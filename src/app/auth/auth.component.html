<div class="login-page">
	<mat-card class="mat-elevation-z12" *ngIf="success == false; else successMsg">
		<mat-card-title style="text-align:center;">Redefinir senha de Conta</mat-card-title>

		<mat-card-content>
			<form [formGroup]="form" (ngSubmit)="onReset()">

				<mat-form-field appearance="outline" hideRequiredMarker>
					<mat-label>Seu Email</mat-label>
					<input type="email" formControlName="email" matInput readonly>
					<mat-icon matSuffix>email</mat-icon>
				</mat-form-field>

				<mat-form-field appearance="outline" hideRequiredMarker>
					<mat-label>Nova Senha</mat-label>
					<input type="password" formControlName="password" matInput>
					<mat-icon matSuffix>lock</mat-icon>

					<mat-error *ngIf="form.get('password').hasError('required')">
						A senha é <strong>obrigatória</strong>
					</mat-error>
				</mat-form-field>

				<button type="submit" class="reset-button" color="primary" mat-raised-button
					[disabled]="!form.valid"
				>
					{{ isLoading ? 'Carregando...' : 'Redefinir' }}
				</button>

			</form>
		</mat-card-content>
	</mat-card>

	<ng-template #successMsg>
		<mat-card class="mat-elevation-z12">
			<mat-card-title style="text-align:center; color: #11bf25">Sucesso!</mat-card-title>

			<mat-card-content align="center">
				<p>Sua senha foi atualizada com Sucesso! Agora você pode voltar a usar o sistema.</p>
				<p>:)</p>
			</mat-card-content>
		</mat-card>
	</ng-template>

	<mat-card class="mat-elevation-z12" *ngIf="danger == true">
		<mat-card-title style="text-align:center; color: #e53935">Alerta!</mat-card-title>

		<mat-card-content align="center">
			<p>O seu Token está inválido ou expirou, tente enviar outro email para redefinir sua senha.</p>
		</mat-card-content>
	</mat-card>
</div>
